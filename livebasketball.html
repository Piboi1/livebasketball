function renderUI() {
  const courtDiv = document.getElementById('courtStatus');
  const waitlistDiv = document.getElementById('waitlistSection');

  courtDiv.innerHTML = '';
  waitlistDiv.innerHTML = '';

  for (const [court, { team, remaining }] of Object.entries(currentCourtState)) {
    const waitlist = currentWaitlists[court] || [];

    // Hide court if timer expired AND no waitlist
    if (remaining <= 0 && waitlist.length === 0) {
      continue; 
    }

    const box = document.createElement('div');
    box.className = 'court-box ' + (remaining > 0 ? 'active' : 'inactive');
    box.innerHTML = `
      <h2>${court.replace(/_/g, ' ')}</h2>
      <p><strong>Now Playing:</strong> ${team.team_name || "Unnamed Team"}</p>
      <p><strong>Game Mode:</strong> ${team.game_mode}</p>
      <p><strong>Team Size:</strong> ${team.team_size}</p>
      <p><strong>Looking for more players?</strong> ${team.needed}</p>
      <div class="timer" id="timer-${court}">${formatTime(remaining)}</div>
    `;
    courtDiv.appendChild(box);
  }

  // Render waitlist (same as before)
  const allWaitlist = Object.entries(currentWaitlists).flatMap(([court, teams]) =>
    teams.map(team => ({
      ...team,
      court
    }))
  );

  if (allWaitlist.length > 0) {
    const box = document.createElement('div');
    box.className = 'waitlist-box';
    box.innerHTML = '<h2>Waitlist</h2>';

    allWaitlist.forEach(team => {
      box.innerHTML += `
        <p><strong>Team:</strong> ${team.team_name || "Unnamed Team"} — Court: ${team.court.replace(/_/g, ' ')} — Size: ${team.team_size} — Mode: ${team.game_mode}</p>
      `;
    });

    waitlistDiv.appendChild(box);
  }
}
